if (self.CavalryLogger) { CavalryLogger.start_js(["PqhfnCY"]); }

__d("MFirefoxAppDetect",[],(function(a,b,c,d,e,f){function a(a,b){if(!navigator.mozApps){b();return}if(window.locationbar&&!window.locationbar.visible){a();return}if(navigator.mozApps.getSelf){var c=navigator.mozApps.getSelf();c.onsuccess=function(){c.result?a():b()};c.onerror=b}else b()}f.isFirefoxApp=a}),null);
__d("MPageHeaderLeft",["$","DOM","MFirefoxAppDetect"],(function(a,b,c,d,e,f,g){var h={};function i(a){if(!h.back_button){var b=c("$")("page");h.back_button=d("DOM").find(b,"a","back-button");h.menu_button=d("DOM").find(b,"a","menu-link")}a.show_back_button?(d("DOM").hide(h.menu_button),d("DOM").show(h.back_button)):(d("DOM").hide(h.back_button),d("DOM").show(h.menu_button))}function j(a){var b=window.navigator;b.standalone||h.isMozApp?i(a):h.isMozApp===void 0&&(h.lastConfig=a,d("MFirefoxAppDetect").isFirefoxApp(function(){h.isMozApp=!0,a===h.lastConfig&&(j(a),delete h.lastConfig)},function(){h.isMozApp=!1}))}g.main=j}),98);
__d("MBrowserTheme",["MHeadMeta"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=!1,j=null;function k(){if(h)return h;h=d("MHeadMeta").getByName("theme-color");return h}function a(a){var b=k();b&&(j===null&&!i&&(j=b.getAttribute("content")),j!==null&&(b.setAttribute("content",a),i=!0))}function b(){if(!i)return;var a=k();if(!a)return;j!==null&&(a.setAttribute("content",j),i=!1)}g.set=a;g.restore=b}),98);
__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={event:!0,is_primary_cta_reg:!0,surface:!0};e.exports=a}),null);
__d("MPopupSmallCta",["Event","LoggedOutLoginSignupBarTypedLogger","MAnimator","MViewport","Run","Style","clearTimeout","ge","qex","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=150,h=1e3,i=214;a={show:function(a,c,d,e){this._expandingCta=a,this._ctaUnit=c,this._closeIcon=d,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=e,b("Run").onAfterLoad(this._init.bind(this))},_init:function(){var a=this,c,d=(c=b("ge"))("header"),e=c("header-notices"),f=c("mobile_login_bar");c=c("account_switcher_footer");this._scrollThreshold=0;this._height=i;if(d){b("Style").set(d,"z-index","0");d=d.clientHeight;d&&(this._scrollThreshold+=d)}if(e){b("Style").set(e,"z-index","0");d=e.clientHeight;d&&(this._scrollThreshold+=d)}if(f){e=f.clientHeight;e&&(this._scrollThreshold+=e,this._height=e)}if(c){d=c.clientHeight;d&&(this._scrollThreshold+=d,this._height=d)}b("qex")._("864896")&&b("Style").set(document.body,"margin-bottom",this._height+"px");b("setInterval")(this._updateCTA.bind(this),h);b("Event").listen(this._closeIcon,"click",function(){a._ctaClosed=!0,a._hideCTA()})},_hideCTA:function(){var a=this,c=this._expandingCta.clientHeight;b("MAnimator").play(c,0,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!1;b("clearTimeout")(this._timerId)},_showCTA:function(){var a=this;if(this._ctaVisible)return;new(b("LoggedOutLoginSignupBarTypedLogger"))().setEvent("login_signup_bar_load").setSurface(this._referrerSurface).log();b("Style").set(this._ctaUnit,"margin-top","0px");b("Style").set(this._expandingCta,"background","none");b("MAnimator").play(0,this._height,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!0;this._ctaShownOnce=!0;b("clearTimeout")(this._timerId)},_updateCTA:function(){var a=b("MViewport").getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&b("MViewport").getScrollTop()>a&&this._showCTA();this._ctaVisible&&b("MViewport").getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g){var h="timeline-ctr-logger";c("Stratcom").listen("click",h,function(a){a=d("MLegacyDataStore").get(a.getNode(h));c("BanzaiLogger").log(a.config,a.data)});a={};g["default"]=a}),98);
__d("FRXFunnelLoggerUtil",["CurrentUser"],(function(a,b,c,d,e,f,g){function a(a){var b=c("CurrentUser").getAccountID();if(a==null)return b;else return b+"#"+a}g.getSessionKey=a}),98);
__d("MFRXWebFunnelLogger",["Event","FRXFunnelLoggerUtil","Stratcom","WebFunnelLogger"],(function(a,b,c,d,e,f){var g={startcomListeners:[],get:function(a,c){c=b("FRXFunnelLoggerUtil").getSessionKey(c);return new(b("WebFunnelLogger"))("FRXMSiteFunnelDefinition").setAction(a).setSessionKey(c)},createFunnelTagList:function(a,b,c){return["entry_point: "+a,"is_frx: true","object_id: "+b,"surface: "+c]},attachClickLogging:function(a,c,d,e,f){b("Event").listen(a,"click",function(){var a=g._getLoggerForXHP(c,d,e,f);a.log()})},removeStratcomListeners:function(){for(var a=g.startcomListeners,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.remove()}g.startcomListeners=[]},attachStratcomClickLogging:function(a,c,d,e,f){a=b("Stratcom").listen("click",a,function(a){a=g._getLoggerForXHP(c,d,e,f);a.log();b("Stratcom").removeCurrentListener()});g.startcomListeners.push(a)},logEvent:function(a,b,c,d){a=g._getLoggerForXHP(a,b,c,d);a.log()},_getLoggerForXHP:function(a,b,c,d){a=g.get(a,b);if(c!=null){b=Object.entries(c);for(var c=0;c<b.length;c++){var e=b[c],f=e[0];e=e[1];a.addActionPayload(f,e)}}d!=null&&a.setFunnelTags(d);return a}};e.exports=g}),null);
__d("MCommentActionsFlyout",["cx","Bootloader","CSS","DOM","MActionBubbleHelper","MFRXWebFunnelLogger","MLegacyDataStore","MModalDialog","MParent","MRequest","Stratcom","URI"],(function(a,b,c,d,e,f,g,h){var i="ban_user_from_page_comment_sigil",j="editCommentSigil",k="editHistoryCommentSigil",l="deleteCommentSigil",m="deleteCommentAndBlockAuthorSigil",n="deleteCommentAndRemoveAuthorSigil",o="hideCommentSigil",p="muteMemberSigil",q="reportCommentSigil",r="commentFlyoutSigil",s="removeTagSigil",t=!1;function u(a,b,c){a=d("DOM").find(a,"*",b);d("MActionBubbleHelper").toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function v(a,b,e){var f=d("DOM").find(a,"*",b),g=!!e.groupMuteCommenterInfo;d("MActionBubbleHelper").toggleActionBubbleItem(f,g,"MCommentActionsFlyout",b);if(g&&b===p){f=d("DOM").scry(a,"*",b)[0];c("CSS").conditionClass(f,"_4ob2",!e.groupMuteCommenterInfo.is_commenter_muted)}}function w(a){a=d("MParent").bySigil(a,"comment-metadata");return a}function x(a,b){b=d("MLegacyDataStore").get(b);a.addQueryData("_ft_",b.linkdata)}function y(a,b){x(b,a);a=new(c("MRequest"))(b);a.send()}function z(a,b,c){d("MModalDialog").open(b,c)}function A(){var a=w(this.getCausalElement()),b=this.getRoot();if(a==null)return;a=d("MLegacyDataStore").get(a);u(b,j,!!a.editCommentURI);u(b,k,!!a.editHistoryCommentURI);u(b,l,!!a.deleteCommentURI);u(b,m,!!a.deleteCommentAndBlockAuthorURI);u(b,n,!!a.deleteCommentAndRemoveAuthorURI);u(b,o,!!a.hideCommentURI);v(b,p,a);u(b,q,!!a.reportCommentURI);u(b,i,!!a.banUserFromPageURIParams&&!t);u(b,s,!!a.removeTagURI&&B())}function B(){return!1}function C(a){var b=d("MLegacyDataStore").get(a.getNode(r)),e=w(b.layer.getCausalElement());if(e==null)return;var f=d("MLegacyDataStore").get(e);if(a.getNode(j))y(e,new(c("URI"))(f.editCommentURI));else if(a.getNode(k))y(e,new(c("URI"))(f.editHistoryCommentURI));else if(a.getNode(l))y(e,new(c("URI"))(f.deleteCommentURI));else if(a.getNode(m))y(e,new(c("URI"))(f.deleteCommentAndBlockAuthorURI));else if(a.getNode(n))y(e,new(c("URI"))(f.deleteCommentAndRemoveAuthorURI));else if(a.getNode(s))y(e,new(c("URI"))(f.removeTagURI));else if(a.getNode(o))y(e,new(c("URI"))(f.hideCommentURI));else if(a.getNode(p))y(e,new(c("URI"))(f.groupMuteCommenterInfo.URI));else if(a.getNode(q)){var g=new(c("URI"))(f.reportCommentURI);f.commentID!=null&&d("MFRXWebFunnelLogger").get("begin_frx_flow",f.commentID).setFunnelTags(d("MFRXWebFunnelLogger").createFunnelTagList("comment",f.commentID,"permalink")).log();f.reportIsModalDialog?z(e,g):y(e,g)}else a.getNode(i)&&(f.banUserFromPageURIParams&&c("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(f.banUserFromPageURIParams.pageID,f.banUserFromPageURIParams.userID,f.banUserFromPageURIParams.userName,function(){t=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var D,E;function a(a){if(D)return;D=a;var b=a.getRoot();c("Stratcom").addSigil(b,r);E=[c("Stratcom").listen("m:page:unload",null,function(){while(E.length>0)E.pop().remove();D=null}),a.addListener("beforeshow",A,a),d("DOM").listen(b,"click",null,C)]}g.registerFlyout=a}),98);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["cx","Bootloader","DOM","MLiveData","MParent","MRequest","Stratcom","SubscriptionsHandler","XLiveCommentRenderController"],(function(a,b,c,d,e,f,g,h){"use strict";var i="feed-ufi-comments",j="m-ufi";a=function(){function a(a,b){var e=this;this.onNewComment=function(a){a=a.getData();var b=a.feedbackTargetID,f=a.commentToken;if(b!==e.feedbackTargetID)return;var g=e.feedbackTarget.getData();if(!e.fetchedComments[f]){a=c("XLiveCommentRenderController").getURIBuilder().getURI();a=new(c("MRequest"))(a);a.setData({comment_token:f,dom_append_id:e.rootElement.id});a.listen("postprocess",function(){var a=g.comments||[];a.push(f);d("MLiveData").update(b,{comments:a});e.updateActivityUI(g.logging_interaction_key)});a.send();e.fetchedComments[f]=!0}};this.onUnload=function(){e.handler.release(),e.liveTypersCount=null};this.rootElement=a;this.activityElement=d("DOM").create("div",{className:"_623b"});this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling);this.fetchedComments={};this.feedbackTargetID=b;this.feedbackTarget=d("MLiveData").get(this.feedbackTargetID);this.liveTypersCount=null;this.handler=new(c("SubscriptionsHandler"))();this.handler.addSubscriptions(c("Stratcom").listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)));this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}var b=a.prototype;b.initTypingIndicatorSubscription=function(){var a=this;c("Bootloader").loadModules(["MUFICommentTypingSubscriptionController"],function(b){b=new b(a.feedbackTargetID,function(b){a.liveTypersCount=b,a.updateActivityUI()});b.didSubscribe()&&a.handler.addSubscriptions(b)},"MUFILiveComments")};b.getIsCommentFlyout=function(){return!!d("MParent").bySigil(this.rootElement,i)};b.getCommentElement=function(a){a=a&&a.split("_")[1];return a?document.getElementById(a):null};b.updateActivityUI=function(a){c("Bootloader").loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(b,e){var f=this.feedbackTarget.getData();b(e,this.activityElement,{comments:f.comments||[],feedbackTargetID:this.feedbackTargetID,isAnyLiveTyping:this.liveTypersCount&&this.liveTypersCount>0,disablePill:this.getIsCommentFlyout()});b=f.logging_interaction_key;e=b?[b]:[];a&&a!==b&&e.push(a);c("Stratcom").invoke("m:ufi:live-comments:render",null,{ufi:d("MParent").bySigil(this.rootElement,j),logKeys:e})}.bind(this),"MUFILiveComments")};return a}();g["default"]=a}),98);
__d("MUFISocialSentence",["cx","fbt","Bootloader","CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a,c,d,e,f,g){if(!g&&!d)return;this.$1=a;this.$2=b("MLiveData").get(c);this.$3=e;this.$4=f;this.$5=g;this.$6=d;this.$7=new(b("SubscriptionsHandler"))();this.$7.addSubscriptions(this.$2.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var c=a.prototype;c.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$4)return;b("CSS").removeClass(this.$1,"like_opt");var c=this.$5&&a.like_count?a[this.$3][0]:null,d=this.$6&&a.comment_count?a.comment_count:null;if(c&&c.text){this.$8={text:c,ftid:a.ft_ent_identifier};c=c.text;this.$6||b("Bootloader").loadModules(["MReactComponentRenderer","MUFISocialSentenceTextWithEntities.react"],function(a,b){a(b,this.$1,this.$8)}.bind(this),"MUFISocialSentence");return}if(c){var e=this.$3!=="like_counts"&&!a.like_fallback&&d?"div":"span";c=b("DOM").create(e,null,c);b("CSS").addClass(c,"_28wy")}d&&(d=d>1?h._({"*":"{count} \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"},[h._param("count",d,[0])]):h._({"*":"{count} \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"},[h._param("count",d,[0])]),d=b("DOM").create("span",{},d),b("CSS").addClass(d,"_28wy"));b("DOM").setContent(this.$1,[c,d]);this.$9(a)};c.$9=function(a){var c=this.$5&&(a.like_count||a.reactioncount);a=this.$6&&a.comment_count;b("CSS").conditionShow(this.$1,!!(c||a))};c.onUnload=function(){this.$7.release(),this.$7=null};return a}();e.exports=a}),null);
__d("MActionBubbleLayout",["cx","CSS"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=null,this.$2=a}var c=a.prototype;c.enable=function(){this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};c.disable=function(){this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};c.$3=function(){var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};c.$4=function(a){var c=this.$2;c.setWidth(a?"auto":"wide");c.applyWidth();b("CSS").conditionClass(c.getRoot(),"_55i0",a)};return a}();e.exports=a}),null);